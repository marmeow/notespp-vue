{"version":3,"file":"task_list-BjNJxjtx.js","names":[],"sources":["../../quill-task-list/task_list.js"],"sourcesContent":["const List = Quill.import('formats/list');\nconst ListItem = Quill.import('formats/list/item');\nconst Parchment = Quill.import('parchment');\nconst Module = Quill.import('core/module');\nconst Delta = Quill.import('delta');\n\nclass TaskListItem extends ListItem {\n  format(name, value) {\n    if (name === TaskList.blotName && !value) {\n      this.replaceWith(Parchment.create(this.statics.scope));\n    }\n    else {\n      super.format(name, value);\n    }\n  }\n\n  // when inserting a new list item, remove the 'checked' css class\n  clone() {\n    const clone = super.clone();\n    clone.domNode.classList.remove('checked');\n    return clone;\n  }\n}\n\nTaskListItem.blotName = 'task-list-item';\nTaskListItem.tagName = 'LI';\n\nclass TaskList extends List {\n  static create(value) {\n    return super.create('bullet');\n  }\n\n  static formats(domNode) {\n    return 'bullet';\n  }\n}\n\nTaskList.blotName = 'task-list';\nTaskList.tagName = 'UL';\nTaskList.className = 'task-list';\nTaskList.defaultChild = 'task-list-item';\nTaskList.allowedChildren = [TaskListItem];\n\nclass TaskListModule extends Module {\n  constructor(quill, options) {\n    super(quill, options);\n\n    this.quill.container.addEventListener('click', (e) => {\n      if (e.target.matches('ul.task-list > li')) {\n        e.target.classList.toggle('checked');\n        // dummy update so that quill detects a change\n        this.quill.updateContents(new Delta().retain(1));\n      }\n    });\n  }\n}\n\nQuill.register({\n  'formats/task-list': TaskList,\n  'formats/task-list/item': TaskListItem,\n  'modules/task-list': TaskListModule\n});\n\n// https://github.com/quilljs/quill/blob/develop/assets/icons/list-check.svg\nQuill.import('ui/icons')['task-list'] = `\n  <svg class=\"\" viewbox=\"0 0 18 18\">\n    <line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"4\" y2=\"4\"></line>\n    <polyline class=\"ql-stroke\" points=\"3 4 4 5 6 3\"></polyline>\n    <line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"14\" y2=\"14\"></line>\n    <polyline class=\"ql-stroke\" points=\"3 14 4 15 6 13\"></polyline>\n    <line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"></line>\n    <polyline class=\"ql-stroke\" points=\"3 9 4 10 6 8\"></polyline>\n  </svg>\n`;\n"],"mappings":";AAAA,IAAM,OAAO,MAAM,OAAO,eAAe;AACzC,IAAM,WAAW,MAAM,OAAO,oBAAoB;AAClD,IAAM,YAAY,MAAM,OAAO,YAAY;AAC3C,IAAM,SAAS,MAAM,OAAO,cAAc;AAC1C,IAAM,QAAQ,MAAM,OAAO,QAAQ;AAEnC,IAAM,eAAN,cAA2B,SAAS;CAClC,OAAO,MAAM,OAAO;AAClB,MAAI,SAAS,SAAS,YAAY,CAAC,MACjC,MAAK,YAAY,UAAU,OAAO,KAAK,QAAQ,MAAM,CAAC;MAGtD,OAAM,OAAO,MAAM,MAAM;;CAK7B,QAAQ;EACN,MAAM,QAAQ,MAAM,OAAO;AAC3B,QAAM,QAAQ,UAAU,OAAO,UAAU;AACzC,SAAO;;;AAIX,aAAa,WAAW;AACxB,aAAa,UAAU;AAEvB,IAAM,WAAN,cAAuB,KAAK;CAC1B,OAAO,OAAO,OAAO;AACnB,SAAO,MAAM,OAAO,SAAS;;CAG/B,OAAO,QAAQ,SAAS;AACtB,SAAO;;;AAIX,SAAS,WAAW;AACpB,SAAS,UAAU;AACnB,SAAS,YAAY;AACrB,SAAS,eAAe;AACxB,SAAS,kBAAkB,CAAC,aAAa;AAEzC,IAAM,iBAAN,cAA6B,OAAO;CAClC,YAAY,OAAO,SAAS;AAC1B,QAAM,OAAO,QAAQ;AAErB,OAAK,MAAM,UAAU,iBAAiB,UAAU,MAAM;AACpD,OAAI,EAAE,OAAO,QAAQ,oBAAoB,EAAE;AACzC,MAAE,OAAO,UAAU,OAAO,UAAU;AAEpC,SAAK,MAAM,eAAe,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;;IAElD;;;AAIN,MAAM,SAAS;CACb,qBAAqB;CACrB,0BAA0B;CAC1B,qBAAqB;CACtB,CAAC;AAGF,MAAM,OAAO,WAAW,CAAC,eAAe"}